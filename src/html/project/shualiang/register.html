<!DOCTYPE html>
<!-- saved from url=(0050)http://ja.bigliang.cn/wxTask/login/register.action -->
<html style=""
	  class=" js flexbox flexboxlegacy canvas canvastext webgl no-touch geolocation postmessage websqldatabase indexeddb hashchange history draganddrop websockets rgba hsla multiplebgs backgroundsize borderimage borderradius boxshadow textshadow opacity cssanimations csscolumns cssgradients cssreflections csstransforms csstransforms3d csstransitions fontface generatedcontent video audio localstorage sessionstorage webworkers no-applicationcache svg inlinesvg smil svgclippaths">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

	<!--
	<meta http-equiv="X-UA-Compatible" content="IE=EDGE">
	 -->
	<meta name="renderer" content="webkit">
	<meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no">
	<meta name="description" content="A fully featured admin theme which can be used to build CRM, CMS, etc.">
	<meta name="author" content="Coderthemes">
	<link rel="shortcut icon" href="http://ja.bigliang.cn/wxTask/assets/images/favicon_1.ico">

	<title>四海传媒</title>
	<link href="./css/sweetalert.css" rel="stylesheet" type="text/css">
	<link href="./css/bootstrap.min.css" rel="stylesheet" type="text/css">
	<link href="./css/core.css" rel="stylesheet" type="text/css">
	<link href="./css/icons.css" rel="stylesheet" type="text/css">
	<link href="./css/components.css" rel="stylesheet" type="text/css">
	<link href="./css/pages.css" rel="stylesheet" type="text/css">
	<link href="./css/menu.css" rel="stylesheet" type="text/css">
	<link href="./css/responsive.css" rel="stylesheet" type="text/css">

	<script src="./js/modernizr.min.js"></script>

	<style type="text/css">
		/* 设置提示文字颜色 */
		::-webkit-input-placeholder {
			color: #838383;
		}

		:-moz-placeholder {
			color: #838383;
		}

		.placeholder {
			color: #ccc;
		}

		.login {
			border-radius: 38px;
			height: 40px;
			background-color: white;
		}
	</style>
</head>
<body class="widescreen">
<div class="wrapper-page">
	<div class="panel panel-color panel-primary panel-pages">
		<div class="panel-heading bg-img">
			<div class="bg-overlay"></div>
			<h3 class="text-center m-t-10 text-white"><strong>四海传媒</strong></h3>
		</div>

		<div class="panel-body">
			<form id="loginForm" class="form-horizontal m-t-20"
				  action="http://ja.bigliang.cn/wxTask/login/register.action" method="post">
				<div class="form-group">
					<div class="col-xs-12">
						<input class="form-control login" id="username" name="username" type="text" placeholder="请输入账号">
					</div>
				</div>
				<div class="form-group">
					<div class="col-xs-12">
						<input class="form-control login" id="password" name="password" type="password"
							   placeholder="请输入登录密码">
					</div>
				</div>
				<div class="form-group">
					<div class="col-xs-12">
						<input class="form-control login" id="repassword" name="repassword" type="password"
							   placeholder="再次输入登录密码">
					</div>
				</div>
				<div class="form-group">
					<div class="col-xs-12">
						<input class="form-control login" id="mobile" name="mobile" type="text" placeholder="请输入手机号">
					</div>
				</div>
				<div class="form-group">
					<div class="col-xs-12">
						<input class="form-control login" id="inviteCode" name="inviteCode" type="text"
							   placeholder="请输入邀请码">
					</div>
				</div>
				<div class="form-group">
					<div class="col-xs-12">
						<input class="form-control login" id="qq" name="qq" type="text" placeholder="请输入QQ">
					</div>
				</div>
				<div class="form-group">
					<div class="col-xs-12">
						<input class="form-control login" id="wechat" name="wechat" type="text" placeholder="请输入微信号">
					</div>
				</div>
				<div class="form-group" style="height:40px">
					<div class="col-xs-12">
						<button class="btn btn-primary btn-rounded w-md waves-effect waves-light" type="button"
								onclick="register();" style="width:100%;">注&nbsp;&nbsp;&nbsp;册
						</button>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</div>
				</div>
				<div class="col-xs-12" align="center">
					<a href="login.html">用户登陆</a>
				</div>
			</form>
		</div>

	</div>
</div>


<script>
    var resizefunc = [];
</script>

<!-- Main  -->
<script src="./js/jquery.min.js"></script>
<script src="./js/bootstrap.min.js"></script>
<script src="./js/detect.js"></script>
<script src="./js/fastclick.js"></script>
<script src="./js/jquery.slimscroll.js"></script>
<script src="./js/jquery.blockUI.js"></script>
<script src="./js/waves.js"></script>
<script src="./js/wow.min.js"></script>
<script src="./js/jquery.nicescroll.js"></script>
<script src="./js/jquery.scrollTo.min.js"></script>

<script src="./js/jquery.app.js"></script>
<script src="./js/common.js"></script>
<script src="./js/sweetalert.min.js"></script>
<script type="text/javascript">
    $(document).ready(function () {
    });

    function checkPhone(value) {
        return /^1[3456789]\d{9}$/.test(value);
    }

    function register() {
        var username = $("#username").val();
        if (checkParameterIsEmpty(username)) {
            toast("请输入账号", 1000);
            return;
        }
        var password = $("#password").val();
        if (checkParameterIsEmpty(password)) {
            toast("请输入登录密码", 1000);
            return;
        }
        var repassword = $("#repassword").val();
        if (checkParameterIsEmpty(repassword)) {
            toast("请输入确认密码", 1000);
            return;
        }
        if (password != repassword) {
            toast("密码确认与密码不一致", 1000);
            return;
        }
        var mobile = $("#mobile").val();
        if (checkParameterIsEmpty(mobile)) {
            toast("请输入手机号码", 1000);
            return;
        }
        if (!checkPhone(mobile)) {
            toast("请输入正确的手机号码", 1000);
            return;
        }
        var qq = $("#qq").val();
        if (checkParameterIsEmpty(qq)) {
            toast("请输入QQ号码", 1000);
            return;
        }
        var wechat = $("#wechat").val();
        if (checkParameterIsEmpty(wechat)) {
            toast("请输入微信号", 1000);
            return;
        }

        var inviteCode = $("#inviteCode").val();
        if (checkParameterIsEmpty(inviteCode)) {
            toast("请输入邀请码", 1000);
            return;
        }
        $.ajax({
            async: true,
            type: "POST",
            url: "http://shangliang.52eja.com:443/api/auth/register",
            contentType: "application/x-www-form-urlencoded; charset=utf-8",
            data: {
                username: username,
                mobile: mobile,
                inviteCode: inviteCode,
                password: password,
                repassword: repassword,
                qq: qq,
                wechat: wechat,
            },
            dataType: "JSON",
            success: function (data) {
                if (data.code == 200) {
                    toast("注册成功", 1000);
                    //保存成功，跳转至详情页面
                    window.location.href = "login.html";
                } else {
                    toast(data.message, 1000);
                    return;
                }
            },
            error: function () {
                toast("系统异常", 1000);
            }
        });
    }

    //检查值是否为空；空：返回true；不为空返回false
    function checkParameterIsEmpty(parameter) {
        if (parameter == null || parameter == "null" || parameter == "" || parameter == "undefined" || parameter == undefined) {
            return true;
        } else {
            return false;
        }
    }

</script>

</body>
</html>
